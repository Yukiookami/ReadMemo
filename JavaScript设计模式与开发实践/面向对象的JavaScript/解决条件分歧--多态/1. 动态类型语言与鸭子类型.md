# 动态类型语言与鸭子类型

## 1. 静态类型语言

静态类型语言是指在编译时已经确定了变量的类型，而在运行时则不能改变变量的类型。

静态类型语言的优点是在编译时就能发现类型不匹配的错误，并且在书写时明确声明变量类型，有助于编译器根据这些类型进行一些优化，提高运行速度。

缺点是类型的检查比较严格，不够灵活。并且迫使程序员依照强契约来编写代码，为每个变量规定类型只是辅助提高可靠性程序的一种手段，而不是目的。使用静态语言会导致程序员的注意力过多地放在类型上，而不是放在解决问题上，和业务上，这是一种浪费。另外，静态类型语言的类型系统往往比较复杂，这也增加了学习成本。

因为需要书写类型，代码数量也更多。

静态类型语言的例子有：C、C++、Java、C#、Go等。

## 2. 动态类型语言

动态类型语言是指在运行时才确定变量的类型，而且变量的类型可以随时改变。

动态类型语言的优点是灵活，代码更少，更简洁，虽然缺少类型会导致难以理解，但是代码更偏向于业务，反而对阅读程序有帮助。

缺点是在运行时才能发现类型不匹配的错误。会导致运行缓慢，难以维护，难以定位错误等问题。

动态类型语言的例子有：JavaScript、Python、Ruby、PHP等。

### 鸭子类型

> 如果它走起来像鸭子，叫起来像鸭子，那么它就是鸭子。

```javascript
function Duck(duck) {
  duck.quack();
  duck.fly();
}

const dog = {
  quack: function() {
    console.log('嘎嘎嘎');
  },
  fly: function() {
    console.log('飞起来了');
  },
  bark: function() {
    console.log('汪汪汪');
  }
};

const duck = {
  quack: function() {
    console.log('嘎嘎嘎');
  },
  fly: function() {
    console.log('飞起来了');
  },
  swim: function() {
    console.log('游泳');
  }
};

Duck(dog); // 嘎嘎嘎 飞起来了
Duck(duck); // 嘎嘎嘎 飞起来了
```

在以上的例子中，不管是dog，还是duck，它们都会嘎嘎嘎的叫，都会飞起来，所以它们都可以被当作鸭子来使用。而dog和duck不一样的bark和swim，在我们使用到的对象行为中并不包含，所以我们并不关心。

正因如此动态语言的灵活性，都建立在鸭子类型之上。

鸭子类型它更加关注的是Has-A而不是Is-A，它更加关注对象的行为而不是对象的类型。

如果一个对象它拥有push和pop方法，那么它就可以被当作一个栈使用，而不需要去关心它是不是一个栈，如果一个对象拥有length属性，也可以依照下标进行操作。
