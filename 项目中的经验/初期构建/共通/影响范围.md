# 影响范围

## 问题

在开发进行到中后期的时候，尤其是中大型项目，组件的修改很有可能牵一发而动全身，虽然可以通过一定的代码设计来避免耦合，但是有一些需求上的变更是无法表面的，因此在无法确定影响范围的前提下进行开发是非常危险的一件事情。

## 影响范围的确定

### 1. 在开发的时候同时书写影响范围文档

在开发的时候同时同步书写影响范围文档，来保证组件修改的时候可以快速定位到影响范围。

- 优点
  - 任何人都可以查阅
  - 可以快速定位到影响范围，确定修改成本
  - 范围清晰，作为一览容易查阅
- 缺点
  - 需要额外的时间成本
  - 需要专门有人维护和管理文档，如果是团队共同管理则需要额外的沟通维护成本
  - 有可能会因为文档的不同步导致文档的失效

### 2. 在开发的时候同步书写到注释中

在开发的时候，如果某个页面或组件使用到了某个组件，则在头部注释中添加这个组件的影响范围。

- 优点
  - 与代码同步，不容易失效
  - 开发者可以很方便的查阅和整理
  - 无需额外的维护成本
- 缺点
  - 需要团队成员的配合
  - 不是开发者的情况下将不好确定范围
  - 因为是以组件单位来确定范围，所以可能不够一目了然

### 3. 自动化测试

使用 jest 等自动化测试脚本，在每一次修改之后都进行一次自动化测试，来保证修改的代码不会影响到其他的页面。

- 优点
  - 自动化测试，不需要人工干预
  - 可以有效保证修改的代码不会影响到其他的页面
  - 可以在修改之后快速定位到问题
- 缺点
  - 需要额外的时间成本来书写测试用例
  - 有可能会因为测试用例的不全面导致疏漏
  - 有可能过度测试导致时间成本过高
